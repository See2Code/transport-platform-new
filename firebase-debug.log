[debug] [2025-04-12T10:22:16.718Z] ----------------------------------------------------------------------
[debug] [2025-04-12T10:22:16.719Z] Command:       /Users/macbookm3pro/.nvm/versions/node/v20.19.0/bin/node /Users/macbookm3pro/Documents/GitHub/Core NEW/transport-platform-new/node_modules/.bin/firebase deploy
[debug] [2025-04-12T10:22:16.719Z] CLI Version:   14.1.0
[debug] [2025-04-12T10:22:16.719Z] Platform:      darwin
[debug] [2025-04-12T10:22:16.719Z] Node Version:  v20.19.0
[debug] [2025-04-12T10:22:16.720Z] Time:          Sat Apr 12 2025 12:22:16 GMT+0200 (Central European Summer Time)
[debug] [2025-04-12T10:22:16.720Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-12T10:22:16.721Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-04-12T10:22:16.815Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-12T10:22:16.815Z] > authorizing via signed-in user (webpostup@gmail.com)
[debug] [2025-04-12T10:22:16.815Z] [iam] checking project core-app-423c7 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-04-12T10:22:16.815Z] Checked if tokens are valid: false, expires at: 1744372302890
[debug] [2025-04-12T10:22:16.815Z] Checked if tokens are valid: false, expires at: 1744372302890
[debug] [2025-04-12T10:22:16.815Z] > refreshing access token with scopes: []
[debug] [2025-04-12T10:22:16.816Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-04-12T10:22:16.816Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-04-12T10:22:17.254Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-04-12T10:22:17.255Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-04-12T10:22:17.272Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions [none]
[debug] [2025-04-12T10:22:17.272Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:17.272Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-04-12T10:22:17.395Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-04-12T10:22:17.395Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-04-12T10:22:18.523Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions 200
[debug] [2025-04-12T10:22:18.523Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-04-12T10:22:18.524Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:18.524Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:18.524Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-12T10:22:18.524Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-12T10:22:19.490Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-12T10:22:19.490Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-12T10:22:19.490Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:19.490Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:19.490Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 [none]
[debug] [2025-04-12T10:22:19.897Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 200
[debug] [2025-04-12T10:22:19.897Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 {"projectId":"core-app-423c7","projectNumber":"869167769685","displayName":"core-app","name":"projects/core-app-423c7","resources":{"hostingSite":"core-app-423c7","realtimeDatabaseInstance":"core-app-423c7-default-rtdb"},"state":"ACTIVE","etag":"1_45046412-e5a4-41ae-a890-ba0d424398a0"}
[debug] [2025-04-12T10:22:19.897Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:19.897Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:19.897Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 [none]
[debug] [2025-04-12T10:22:20.138Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 200
[debug] [2025-04-12T10:22:20.138Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 {"projectId":"core-app-423c7","projectNumber":"869167769685","displayName":"core-app","name":"projects/core-app-423c7","resources":{"hostingSite":"core-app-423c7","realtimeDatabaseInstance":"core-app-423c7-default-rtdb"},"state":"ACTIVE","etag":"1_45046412-e5a4-41ae-a890-ba0d424398a0"}
[info] 
[info] === Deploying to 'core-app-423c7'...
[info] 
[info] i  deploying database, storage, firestore, functions, hosting 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[info] i  database: checking rules syntax... 
[debug] [2025-04-12T10:22:21.300Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:21.300Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:21.300Z] >>> [apiv2][query] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb [none]
[debug] [2025-04-12T10:22:22.439Z] <<< [apiv2][status] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb 200
[debug] [2025-04-12T10:22:22.439Z] <<< [apiv2][body] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb {"name":"projects/869167769685/locations/europe-west1/instances/core-app-423c7-default-rtdb","project":"projects/869167769685","databaseUrl":"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app","type":"DEFAULT_DATABASE","state":"ACTIVE"}
[debug] [2025-04-12T10:22:22.441Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:22.441Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:22.442Z] >>> [apiv2][query] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json dryRun=true
[debug] [2025-04-12T10:22:22.442Z] >>> [apiv2][body] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json "{\n  \"rules\": {\n    \".read\": \"auth != null\",\n    \".write\": \"auth != null\",\n    \"vehicles\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null\",\n      \"$vehicleId\": {\n        \".validate\": \"newData.hasChildren(['info', 'location', 'status', 'history', 'geofenceEvents'])\",\n        \"info\": {\n          \".validate\": \"newData.hasChildren(['plateNumber', 'type', 'driverId', 'companyId'])\"\n        },\n        \"location\": {\n          \".validate\": \"newData.hasChildren(['latitude', 'longitude', 'accuracy', 'speed', 'heading', 'timestamp', 'batteryLevel', 'isBatterySavingMode'])\",\n          \"latitude\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= -90 && newData.val() <= 90\"\n          },\n          \"longitude\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= -180 && newData.val() <= 180\"\n          },\n          \"accuracy\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0\"\n          },\n          \"speed\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0\"\n          },\n          \"heading\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0 && newData.val() <= 360\"\n          },\n          \"timestamp\": {\n            \".validate\": \"newData.isNumber()\"\n          },\n          \"batteryLevel\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0 && newData.val() <= 100\"\n          },\n          \"isBatterySavingMode\": {\n            \".validate\": \"newData.isBoolean()\"\n          }\n        },\n        \"status\": {\n          \".validate\": \"newData.hasChildren(['isActive', 'lastUpdate', 'batteryLevel', 'batterySavingMode'])\",\n          \"isActive\": {\n            \".validate\": \"newData.isBoolean()\"\n          },\n          \"lastUpdate\": {\n            \".validate\": \"newData.isNumber()\"\n          },\n          \"batteryLevel\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0 && newData.val() <= 100\"\n          },\n          \"batterySavingMode\": {\n            \".validate\": \"newData.isBoolean()\"\n          }\n        },\n        \"history\": {\n          \".read\": \"auth != null\",\n          \".write\": \"auth != null\",\n          \"$timestamp\": {\n            \".validate\": \"newData.hasChildren(['latitude', 'longitude', 'speed', 'heading', 'batteryLevel', 'isBatterySavingMode'])\"\n          }\n        },\n        \"geofenceEvents\": {\n          \".read\": \"auth != null\",\n          \".write\": \"auth != null\",\n          \"$eventId\": {\n            \".validate\": \"newData.hasChildren(['regionId', 'type', 'timestamp'])\",\n            \"regionId\": {\n              \".validate\": \"newData.isString()\"\n            },\n            \"type\": {\n              \".validate\": \"newData.isString() && (newData.val() == 'entry' || newData.val() == 'exit')\"\n            },\n            \"timestamp\": {\n              \".validate\": \"newData.isNumber()\"\n            }\n          }\n        }\n      }\n    },\n    \"companies\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null\",\n      \"$companyId\": {\n        \".validate\": \"newData.hasChildren(['name', 'address', 'contact'])\"\n      }\n    }\n  }\n} "
[debug] [2025-04-12T10:22:22.727Z] <<< [apiv2][status] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json 200
[debug] [2025-04-12T10:22:22.727Z] <<< [apiv2][body] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json {"status":"ok"}
[info] ✔  database: rules syntax for database core-app-423c7-default-rtdb is valid 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2025-04-12T10:22:22.728Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:22.728Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:22.729Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com [none]
[debug] [2025-04-12T10:22:22.729Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:23.975Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com 200
[debug] [2025-04-12T10:22:23.975Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com [omitted]
[info] ✔  storage: required API firebasestorage.googleapis.com is enabled 
[debug] [2025-04-12T10:22:23.976Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:23.976Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:23.976Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket [none]
[debug] [2025-04-12T10:22:24.544Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket 200
[debug] [2025-04-12T10:22:24.544Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket {"name":"projects/core-app-423c7/defaultBucket","location":"US-CENTRAL1","bucket":{"name":"projects/core-app-423c7/buckets/core-app-423c7.firebasestorage.app"},"storageClass":"REGIONAL"}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2025-04-12T10:22:24.546Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:24.546Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:24.546Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [none]
[debug] [2025-04-12T10:22:24.546Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [omitted]
[debug] [2025-04-12T10:22:25.496Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test 200
[debug] [2025-04-12T10:22:25.496Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test {}
[info] ✔  firebase.storage: rules file storage.rules compiled successfully 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-04-12T10:22:25.500Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:25.500Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:25.500Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [none]
[debug] [2025-04-12T10:22:25.501Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [omitted]
[debug] [2025-04-12T10:22:26.289Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test 200
[debug] [2025-04-12T10:22:26.289Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test {"issues":[{"sourcePosition":{"fileName":"firestore.rules","line":16,"column":14,"currentOffset":448,"endOffset":455},"description":"Unused function: isDriver.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":18,"column":9,"currentOffset":504,"endOffset":509},"description":"Invalid function name: exists.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":18,"column":57,"currentOffset":552,"endOffset":558},"description":"Invalid variable name: request.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":19,"column":9,"currentOffset":582,"endOffset":584},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":19,"column":54,"currentOffset":627,"endOffset":633},"description":"Invalid variable name: request.","severity":"WARNING"}]}
[warn] ⚠  [W] 16:14 - Unused function: isDriver. 
[warn] ⚠  [W] 18:9 - Invalid function name: exists. 
[warn] ⚠  [W] 18:57 - Invalid variable name: request. 
[warn] ⚠  [W] 19:9 - Invalid function name: get. 
[warn] ⚠  [W] 19:54 - Invalid variable name: request. 
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-04-12T10:22:26.291Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:26.291Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:26.291Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 [none]
[debug] [2025-04-12T10:22:27.260Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 200
[debug] [2025-04-12T10:22:27.260Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 {"projectNumber":"869167769685","projectId":"core-app-423c7","lifecycleState":"ACTIVE","name":"core-app","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-23T09:54:58.346881Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-12T10:22:27.261Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:27.262Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:27.262Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-12T10:22:27.263Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:27.263Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-12T10:22:27.263Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:27.267Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-12T10:22:27.268Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:27.271Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-12T10:22:27.271Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:28.242Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-12T10:22:28.242Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-12T10:22:28.361Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-12T10:22:28.362Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-12T10:22:28.362Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com 200
[debug] [2025-04-12T10:22:28.362Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-12T10:22:28.363Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com 200
[debug] [2025-04-12T10:22:28.363Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-12T10:22:28.363Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:28.364Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:28.364Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig [none]
[debug] [2025-04-12T10:22:28.959Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig 200
[debug] [2025-04-12T10:22:28.960Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig {"projectId":"core-app-423c7","databaseURL":"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"core-app-423c7.firebasestorage.app"}
[debug] [2025-04-12T10:22:28.960Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:28.960Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:28.960Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs [none]
[debug] [2025-04-12T10:22:29.430Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs 200
[debug] [2025-04-12T10:22:29.430Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs {"configs":[{"name":"projects/core-app-423c7/configs/google"},{"name":"projects/core-app-423c7/configs/smtp"},{"name":"projects/core-app-423c7/configs/email"}]}
[debug] [2025-04-12T10:22:29.431Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.431Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.431Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.431Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.431Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.431Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.431Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables [none]
[debug] [2025-04-12T10:22:29.432Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables [none]
[debug] [2025-04-12T10:22:29.435Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables [none]
[debug] [2025-04-12T10:22:29.676Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables 200
[debug] [2025-04-12T10:22:29.677Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables {"variables":[{"name":"projects/core-app-423c7/configs/google/variables/maps_api_key","updateTime":"2025-04-11T09:28:18.397654238Z"}]}
[debug] [2025-04-12T10:22:29.677Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.677Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.677Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables/maps_api_key [none]
[debug] [2025-04-12T10:22:29.813Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables 200
[debug] [2025-04-12T10:22:29.813Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables {"variables":[{"name":"projects/core-app-423c7/configs/email/variables/user","updateTime":"2025-03-23T19:18:54.014339774Z"},{"name":"projects/core-app-423c7/configs/email/variables/password","updateTime":"2025-03-23T19:18:53.997899644Z"}]}
[debug] [2025-04-12T10:22:29.813Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.813Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.813Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user [none]
[debug] [2025-04-12T10:22:29.814Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password [none]
[debug] [2025-04-12T10:22:29.814Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables 200
[debug] [2025-04-12T10:22:29.814Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables {"variables":[{"name":"projects/core-app-423c7/configs/smtp/variables/host","updateTime":"2025-04-02T00:51:02.374627588Z"},{"name":"projects/core-app-423c7/configs/smtp/variables/pass","updateTime":"2025-04-02T00:51:01.297739602Z"},{"name":"projects/core-app-423c7/configs/smtp/variables/port","updateTime":"2025-04-02T00:50:59.539013855Z"},{"name":"projects/core-app-423c7/configs/smtp/variables/user","updateTime":"2025-04-02T00:51:00.421763237Z"}]}
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:29.814Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/host [none]
[debug] [2025-04-12T10:22:29.815Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/pass [none]
[debug] [2025-04-12T10:22:29.816Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/port [none]
[debug] [2025-04-12T10:22:29.816Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/user [none]
[debug] [2025-04-12T10:22:29.900Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables/maps_api_key 200
[debug] [2025-04-12T10:22:29.901Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables/maps_api_key {"name":"projects/core-app-423c7/configs/google/variables/maps_api_key","updateTime":"2025-04-11T09:28:18.397654238Z","text":"CHÝBAJÚCI_KĽÚČ_VLOŽTE_SEM"}
[debug] [2025-04-12T10:22:30.031Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user 200
[debug] [2025-04-12T10:22:30.031Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user {"name":"projects/core-app-423c7/configs/email/variables/user","updateTime":"2025-03-23T19:18:54.014339774Z","text":"core.transport.app@gmail.com"}
[debug] [2025-04-12T10:22:30.055Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password 200
[debug] [2025-04-12T10:22:30.055Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password {"name":"projects/core-app-423c7/configs/email/variables/password","updateTime":"2025-03-23T19:18:53.997899644Z","text":"your-app-specific-password"}
[debug] [2025-04-12T10:22:30.132Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/host 200
[debug] [2025-04-12T10:22:30.132Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/host {"name":"projects/core-app-423c7/configs/smtp/variables/host","updateTime":"2025-04-02T00:51:02.374627588Z","text":"smtp.m1.websupport.sk"}
[debug] [2025-04-12T10:22:30.150Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/pass 200
[debug] [2025-04-12T10:22:30.150Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/pass {"name":"projects/core-app-423c7/configs/smtp/variables/pass","updateTime":"2025-04-02T00:51:01.297739602Z","text":"r.\\{jo$_;OJX8V\\>eKbo\\|!"}
[debug] [2025-04-12T10:22:30.168Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/port 200
[debug] [2025-04-12T10:22:30.169Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/port {"name":"projects/core-app-423c7/configs/smtp/variables/port","updateTime":"2025-04-02T00:50:59.539013855Z","text":"465"}
[debug] [2025-04-12T10:22:30.284Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/user 200
[debug] [2025-04-12T10:22:30.285Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/user {"name":"projects/core-app-423c7/configs/smtp/variables/user","updateTime":"2025-04-02T00:51:00.421763237Z","text":"noreply@aesa.sk"}
[debug] [2025-04-12T10:22:30.287Z] Validating nodejs source
[debug] [2025-04-12T10:22:30.749Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@mui/x-data-grid": "^7.28.3",
    "@mui/x-date-pickers": "^7.28.0",
    "@types/cors": "^2.8.17",
    "cors": "^2.8.5",
    "date-fns": "^4.1.0",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.3.2",
    "node-fetch": "^3.3.2",
    "nodemailer": "^6.9.9",
    "react-router-dom": "^7.4.0"
  },
  "devDependencies": {
    "@types/node-fetch": "^2.6.12",
    "@types/nodemailer": "^6.4.17",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "typescript": "^4.9.5"
  },
  "private": true
}
[debug] [2025-04-12T10:22:30.749Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-12T10:22:30.750Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-12T10:22:30.754Z] Found firebase-functions binary at '/Users/macbookm3pro/Documents/GitHub/Core NEW/transport-platform-new/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8881

[debug] [2025-04-12T10:22:30.974Z] Got response from /__/functions.yaml {"endpoints":{"clearDatabase":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"clearDatabase"},"sendInvitationEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"sendInvitationEmail"},"checkBusinessCaseReminders":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"checkBusinessCaseReminders"},"checkTransportNotifications":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"checkTransportNotifications"},"logFunctionMetrics":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"logFunctionMetrics"},"initializeLastLogin":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"initializeLastLogin"},"sendTestReminder":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"sendTestReminder"},"googleMapsProxy":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"googleMapsProxy"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-12T10:22:35.002Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:35.003Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:35.003Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-12T10:22:35.003Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:36.096Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-12T10:22:36.096Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-12T10:22:36.097Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-12T10:22:36.097Z] > authorizing via signed-in user (webpostup@gmail.com)
[debug] [2025-04-12T10:22:36.097Z] [iam] checking project core-app-423c7 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-12T10:22:36.097Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:36.097Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:36.097Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions [none]
[debug] [2025-04-12T10:22:36.097Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:36.097Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-12T10:22:36.983Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions 200
[debug] [2025-04-12T10:22:36.983Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-12T10:22:36.984Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:36.984Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:36.984Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances pageSize=100&pageToken=
[debug] [2025-04-12T10:22:38.125Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances 200
[debug] [2025-04-12T10:22:38.125Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookm3pro/Documents/GitHub/Core NEW/transport-platform-new/functions (74.26 KB) for uploading 
[debug] [2025-04-12T10:22:38.171Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:38.171Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:38.171Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions [none]
[debug] [2025-04-12T10:22:39.080Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions 200
[debug] [2025-04-12T10:22:39.080Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions {"functions":[{"name":"projects/core-app-423c7/locations/europe-west1/functions/initializeLastLogin","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/initializeLastLogin","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"initializeLastLogin","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:16.323Z","versionId":"21","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/initializeLastLogin"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/googleMapsProxy","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/googleMapsProxy","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"googleMapsProxy","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:18.177Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/googleMapsProxy"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/clearDatabase","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/clearDatabase","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"clearDatabase","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:10.599Z","versionId":"39","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/clearDatabase"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/sendTestReminder","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/sendTestReminder","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendTestReminder","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:17.143Z","versionId":"13","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/sendTestReminder"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/sendInvitationEmail","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/sendInvitationEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInvitationEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:27.283Z","versionId":"40","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/sendInvitationEmail"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/updateExistingRecords","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/updateExistingRecords","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateExistingRecords","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-10T07:24:02.031Z","versionId":"35","labels":{"deployment-callable":"true","firebase-functions-hash":"458c1111a070781e1a97ec644ae0825f30e5799f","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/771d7053-4a22-4c14-8351-171bd835355d.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/updateExistingRecords"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"d24c7887-8736-40ae-8142-5cfa307d09ee","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/d24c7887-8736-40ae-8142-5cfa307d09ee","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/checkBusinessCaseReminders","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-checkBusinessCaseReminders-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"checkBusinessCaseReminders","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:15.954Z","versionId":"13","labels":{"deployment-scheduled":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/checkBusinessCaseReminders"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/logFunctionMetrics","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-logFunctionMetrics-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"logFunctionMetrics","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:16.027Z","versionId":"59","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/logFunctionMetrics"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/checkTransportNotifications","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-checkTransportNotifications-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"checkTransportNotifications","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-11T09:40:15.672Z","versionId":"13","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"dbaca6fb0a78dd6ec76758a41620133e5aa80cb2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/7ca315c1-a3f9-4787-b263-b181aadc05cd.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/checkTransportNotifications"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"c28a4d59-1283-4ac3-958e-f0a22c08afd9","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/c28a4d59-1283-4ac3-958e-f0a22c08afd9","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"}]}
[debug] [2025-04-12T10:22:39.082Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:39.082Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:39.082Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-12T10:22:40.158Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions 200
[debug] [2025-04-12T10:22:40.158Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-12T10:22:40.162Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:40.162Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:40.162Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-12T10:22:40.162Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-12T10:22:41.086Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-12T10:22:41.086Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[debug] [2025-04-12T10:22:41.088Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:41.088Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:41.088Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 [none]
[debug] [2025-04-12T10:22:41.325Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 200
[debug] [2025-04-12T10:22:41.325Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 {"projectNumber":"869167769685","projectId":"core-app-423c7","lifecycleState":"ACTIVE","name":"core-app","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-23T09:54:58.346881Z"}
[debug] [2025-04-12T10:22:41.332Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:41.332Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:41.333Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions [none]
[debug] [2025-04-12T10:22:41.333Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2025-04-12T10:22:43.540Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions 200
[debug] [2025-04-12T10:22:43.540Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions {"name":"projects/869167769685/sites/core-app-423c7/versions/48925784bfc42d79","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2025-04-12T10:22:43.541Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:43.541Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:43.542Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases pageSize=10&pageToken=
[debug] [2025-04-12T10:22:44.381Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases 200
[debug] [2025-04-12T10:22:44.382Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases {"releases":[{"name":"projects/core-app-423c7/releases/cloud.firestore","rulesetName":"projects/core-app-423c7/rulesets/e82f07b9-4d17-4452-970f-4459a4737c5c","createTime":"2025-03-23T10:47:52.691285Z","updateTime":"2025-04-11T10:52:54.833968Z"},{"name":"projects/core-app-423c7/releases/firebase.storage/core-app-423c7.firebasestorage.app","rulesetName":"projects/core-app-423c7/rulesets/ad489d2a-b2ea-4b1d-b24a-778730727de3","createTime":"2025-03-28T20:57:13.976365Z","updateTime":"2025-04-11T10:52:53.936381Z"}]}
[debug] [2025-04-12T10:22:44.398Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:44.398Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:44.398Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/ad489d2a-b2ea-4b1d-b24a-778730727de3 [none]
[debug] [2025-04-12T10:22:45.137Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/ad489d2a-b2ea-4b1d-b24a-778730727de3 200
[debug] [2025-04-12T10:22:45.137Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/ad489d2a-b2ea-4b1d-b24a-778730727de3 [omitted]
[info] i  storage: latest version of storage.rules already up to date, skipping upload... 
[debug] [2025-04-12T10:22:45.139Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.139Z] Checked if tokens are valid: true, expires at: 1744456936255
[info] i  firestore: deploying indexes... 
[debug] [2025-04-12T10:22:45.140Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.141Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.141Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases pageSize=10&pageToken=
[debug] [2025-04-12T10:22:45.141Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2025-04-12T10:22:45.497Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/indexes 200
[debug] [2025-04-12T10:22:45.498Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/users/indexes/CICAgJim14AJ","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/invoices/indexes/CICAgNiav4AK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"issueDate","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/orders/indexes/CICAgLjy8IAK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/chats/indexes/CICAgNiroIEK","queryScope":"COLLECTION","fields":[{"fieldPath":"participants","arrayConfig":"CONTAINS"},{"fieldPath":"lastMessageTime","order":"DESCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/contacts/indexes/CICAgJj7z4EK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgNjpgYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"businessCaseId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/businessCases/indexes/CICAgJjF9oIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/transports/indexes/CICAgLiIkYMK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgJiUpoMK","queryScope":"COLLECTION","fields":[{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"transportId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgNja0ogK","queryScope":"COLLECTION","fields":[{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"businessCaseId","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/invoices/indexes/CICAgNjaxJEK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"dueDate","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgJiUsZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2025-04-12T10:22:45.498Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.498Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.498Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2025-04-12T10:22:45.622Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2025-04-12T10:22:45.622Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[info] i  firestore: The following indexes are defined in your project but are not present in your firestore indexes file:
	(users) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(invoices) -- (companyID,ASCENDING) (issueDate,DESCENDING) 
	(orders) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(chats) -- (participants,CONTAINS) (lastMessageTime,DESCENDING) 
	(contacts) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(reminders) -- (sent,ASCENDING) (reminderDateTime,ASCENDING) (businessCaseId,ASCENDING) 
	(businessCases) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(transports) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(reminders) -- (sent,ASCENDING) (reminderDateTime,ASCENDING) (transportId,ASCENDING) 
	(reminders) -- (sent,ASCENDING) (businessCaseId,ASCENDING) (reminderDateTime,ASCENDING) 
	(invoices) -- (companyID,ASCENDING) (dueDate,ASCENDING) 
	(reminders) -- (companyID,ASCENDING) (sent,ASCENDING) (reminderDateTime,ASCENDING)  
[debug] [2025-04-12T10:22:45.876Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases 200
[debug] [2025-04-12T10:22:45.877Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases {"releases":[{"name":"projects/core-app-423c7/releases/cloud.firestore","rulesetName":"projects/core-app-423c7/rulesets/e82f07b9-4d17-4452-970f-4459a4737c5c","createTime":"2025-03-23T10:47:52.691285Z","updateTime":"2025-04-11T10:52:54.833968Z"},{"name":"projects/core-app-423c7/releases/firebase.storage/core-app-423c7.firebasestorage.app","rulesetName":"projects/core-app-423c7/rulesets/ad489d2a-b2ea-4b1d-b24a-778730727de3","createTime":"2025-03-28T20:57:13.976365Z","updateTime":"2025-04-11T10:52:53.936381Z"}]}
[debug] [2025-04-12T10:22:45.877Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.877Z] Checked if tokens are valid: true, expires at: 1744456936255
[debug] [2025-04-12T10:22:45.877Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/e82f07b9-4d17-4452-970f-4459a4737c5c [none]
[debug] [2025-04-12T10:22:46.204Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/e82f07b9-4d17-4452-970f-4459a4737c5c 200
[debug] [2025-04-12T10:22:46.204Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/e82f07b9-4d17-4452-970f-4459a4737c5c [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 

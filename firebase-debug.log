[debug] [2025-05-30T20:24:05.765Z] ----------------------------------------------------------------------
[debug] [2025-05-30T20:24:05.766Z] Command:       /Users/macbookm3pro/.nvm/versions/node/v20.19.0/bin/node /Users/macbookm3pro/.nvm/versions/node/v20.19.0/bin/firebase deploy
[debug] [2025-05-30T20:24:05.767Z] CLI Version:   14.4.0
[debug] [2025-05-30T20:24:05.767Z] Platform:      darwin
[debug] [2025-05-30T20:24:05.767Z] Node Version:  v20.19.0
[debug] [2025-05-30T20:24:05.767Z] Time:          Fri May 30 2025 22:24:05 GMT+0200 (Central European Summer Time)
[debug] [2025-05-30T20:24:05.767Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-05-30T20:24:05.768Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-05-30T20:24:05.866Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-30T20:24:05.866Z] > authorizing via signed-in user (webpostup@gmail.com)
[debug] [2025-05-30T20:24:05.866Z] [iam] checking project core-app-423c7 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-05-30T20:24:05.867Z] Checked if tokens are valid: false, expires at: 1748468025782
[debug] [2025-05-30T20:24:05.867Z] Checked if tokens are valid: false, expires at: 1748468025782
[debug] [2025-05-30T20:24:05.867Z] > refreshing access token with scopes: []
[debug] [2025-05-30T20:24:05.867Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-05-30T20:24:05.867Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-05-30T20:24:06.037Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-05-30T20:24:06.037Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-05-30T20:24:06.052Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions [none]
[debug] [2025-05-30T20:24:06.052Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:06.052Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-05-30T20:24:06.198Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-05-30T20:24:06.199Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-05-30T20:24:07.015Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions 200
[debug] [2025-05-30T20:24:07.016Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-05-30T20:24:07.016Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:07.016Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:07.016Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-05-30T20:24:07.016Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-30T20:24:07.846Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-05-30T20:24:07.846Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-05-30T20:24:07.847Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:07.847Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:07.848Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 [none]
[debug] [2025-05-30T20:24:08.229Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 200
[debug] [2025-05-30T20:24:08.229Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 {"projectId":"core-app-423c7","projectNumber":"869167769685","displayName":"core-app","name":"projects/core-app-423c7","resources":{"hostingSite":"core-app-423c7","realtimeDatabaseInstance":"core-app-423c7-default-rtdb"},"state":"ACTIVE","etag":"1_bd207049-36f5-4a17-a92d-f5cec609dfee"}
[debug] [2025-05-30T20:24:08.230Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:08.230Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:08.230Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 [none]
[debug] [2025-05-30T20:24:08.545Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 200
[debug] [2025-05-30T20:24:08.545Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 {"projectId":"core-app-423c7","projectNumber":"869167769685","displayName":"core-app","name":"projects/core-app-423c7","resources":{"hostingSite":"core-app-423c7","realtimeDatabaseInstance":"core-app-423c7-default-rtdb"},"state":"ACTIVE","etag":"1_bd207049-36f5-4a17-a92d-f5cec609dfee"}
[info] 
[info] === Deploying to 'core-app-423c7'...
[info] 
[info] i  deploying database, storage, firestore, functions, hosting 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[info] i  database: checking rules syntax... 
[debug] [2025-05-30T20:24:09.829Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:09.829Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:09.829Z] >>> [apiv2][query] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb [none]
[debug] [2025-05-30T20:24:10.831Z] <<< [apiv2][status] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb 200
[debug] [2025-05-30T20:24:10.831Z] <<< [apiv2][body] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb {"name":"projects/869167769685/locations/europe-west1/instances/core-app-423c7-default-rtdb","project":"projects/869167769685","databaseUrl":"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app","type":"DEFAULT_DATABASE","state":"ACTIVE"}
[debug] [2025-05-30T20:24:10.832Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:10.833Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:10.833Z] >>> [apiv2][query] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json dryRun=true
[debug] [2025-05-30T20:24:10.833Z] >>> [apiv2][body] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json "{\n  \"rules\": {\n    \".read\": \"auth != null\",\n    \".write\": \"auth != null\",\n    \"vehicles\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null\",\n      \"$vehicleId\": {\n        \".validate\": \"newData.hasChildren(['info', 'location', 'status', 'history', 'geofenceEvents'])\",\n        \"info\": {\n          \".validate\": \"newData.hasChildren(['plateNumber', 'type', 'driverId', 'companyId'])\"\n        },\n        \"location\": {\n          \".validate\": \"newData.hasChildren(['latitude', 'longitude', 'accuracy', 'speed', 'heading', 'timestamp', 'batteryLevel', 'isBatterySavingMode'])\",\n          \"latitude\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= -90 && newData.val() <= 90\"\n          },\n          \"longitude\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= -180 && newData.val() <= 180\"\n          },\n          \"accuracy\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0\"\n          },\n          \"speed\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0\"\n          },\n          \"heading\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0 && newData.val() <= 360\"\n          },\n          \"timestamp\": {\n            \".validate\": \"newData.isNumber()\"\n          },\n          \"batteryLevel\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0 && newData.val() <= 100\"\n          },\n          \"isBatterySavingMode\": {\n            \".validate\": \"newData.isBoolean()\"\n          }\n        },\n        \"status\": {\n          \".validate\": \"newData.hasChildren(['isActive', 'lastUpdate', 'batteryLevel', 'batterySavingMode'])\",\n          \"isActive\": {\n            \".validate\": \"newData.isBoolean()\"\n          },\n          \"lastUpdate\": {\n            \".validate\": \"newData.isNumber()\"\n          },\n          \"batteryLevel\": {\n            \".validate\": \"newData.isNumber() && newData.val() >= 0 && newData.val() <= 100\"\n          },\n          \"batterySavingMode\": {\n            \".validate\": \"newData.isBoolean()\"\n          }\n        },\n        \"history\": {\n          \".read\": \"auth != null\",\n          \".write\": \"auth != null\",\n          \"$timestamp\": {\n            \".validate\": \"newData.hasChildren(['latitude', 'longitude', 'speed', 'heading', 'batteryLevel', 'isBatterySavingMode'])\"\n          }\n        },\n        \"geofenceEvents\": {\n          \".read\": \"auth != null\",\n          \".write\": \"auth != null\",\n          \"$eventId\": {\n            \".validate\": \"newData.hasChildren(['regionId', 'type', 'timestamp'])\",\n            \"regionId\": {\n              \".validate\": \"newData.isString()\"\n            },\n            \"type\": {\n              \".validate\": \"newData.isString() && (newData.val() == 'entry' || newData.val() == 'exit')\"\n            },\n            \"timestamp\": {\n              \".validate\": \"newData.isNumber()\"\n            }\n          }\n        }\n      }\n    },\n    \"companies\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null\",\n      \"$companyId\": {\n        \".validate\": \"newData.hasChildren(['name', 'address', 'contact'])\"\n      }\n    }\n  }\n} "
[debug] [2025-05-30T20:24:11.032Z] <<< [apiv2][status] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json 200
[debug] [2025-05-30T20:24:11.033Z] <<< [apiv2][body] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json {"status":"ok"}
[info] ✔  database: rules syntax for database core-app-423c7-default-rtdb is valid 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2025-05-30T20:24:11.034Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:11.035Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:11.035Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com [none]
[debug] [2025-05-30T20:24:11.035Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:12.050Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com 200
[debug] [2025-05-30T20:24:12.050Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com [omitted]
[info] ✔  storage: required API firebasestorage.googleapis.com is enabled 
[debug] [2025-05-30T20:24:12.050Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:12.050Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:12.051Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket [none]
[debug] [2025-05-30T20:24:12.850Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket 200
[debug] [2025-05-30T20:24:12.851Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket {"name":"projects/core-app-423c7/defaultBucket","location":"US-CENTRAL1","bucket":{"name":"projects/core-app-423c7/buckets/core-app-423c7.firebasestorage.app"},"storageClass":"REGIONAL"}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2025-05-30T20:24:12.853Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:12.853Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:12.853Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [none]
[debug] [2025-05-30T20:24:12.853Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [omitted]
[debug] [2025-05-30T20:24:13.683Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test 200
[debug] [2025-05-30T20:24:13.683Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test {}
[info] ✔  firebase.storage: rules file storage.rules compiled successfully 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-05-30T20:24:13.687Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:13.687Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:13.687Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [none]
[debug] [2025-05-30T20:24:13.687Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [omitted]
[debug] [2025-05-30T20:24:14.424Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test 200
[debug] [2025-05-30T20:24:14.424Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test {"issues":[{"sourcePosition":{"fileName":"firestore.rules","line":16,"column":14,"currentOffset":448,"endOffset":455},"description":"Unused function: isDriver.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":18,"column":9,"currentOffset":504,"endOffset":509},"description":"Invalid function name: exists.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":18,"column":57,"currentOffset":552,"endOffset":558},"description":"Invalid variable name: request.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":19,"column":9,"currentOffset":582,"endOffset":584},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"firestore.rules","line":19,"column":54,"currentOffset":627,"endOffset":633},"description":"Invalid variable name: request.","severity":"WARNING"}]}
[warn] ⚠  [W] 16:14 - Unused function: isDriver. 
[warn] ⚠  [W] 18:9 - Invalid function name: exists. 
[warn] ⚠  [W] 18:57 - Invalid variable name: request. 
[warn] ⚠  [W] 19:9 - Invalid function name: get. 
[warn] ⚠  [W] 19:54 - Invalid variable name: request. 
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-05-30T20:24:14.426Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:14.426Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:14.426Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-30T20:24:14.426Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:15.503Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-30T20:24:15.503Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-30T20:24:15.503Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.503Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.503Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 [none]
[debug] [2025-05-30T20:24:15.798Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 200
[debug] [2025-05-30T20:24:15.798Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 {"projectNumber":"869167769685","projectId":"core-app-423c7","lifecycleState":"ACTIVE","name":"core-app","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-23T09:54:58.346881Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.800Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:15.801Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com [none]
[debug] [2025-05-30T20:24:15.801Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:15.801Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com [none]
[debug] [2025-05-30T20:24:15.801Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:15.803Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com [none]
[debug] [2025-05-30T20:24:15.803Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:15.805Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com [none]
[debug] [2025-05-30T20:24:15.805Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:16.187Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com 200
[debug] [2025-05-30T20:24:16.188Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-05-30T20:24:16.765Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com 200
[debug] [2025-05-30T20:24:16.766Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-05-30T20:24:16.778Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com 200
[debug] [2025-05-30T20:24:16.778Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-05-30T20:24:16.817Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com 200
[debug] [2025-05-30T20:24:16.817Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-05-30T20:24:16.818Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:16.818Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:16.818Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig [none]
[debug] [2025-05-30T20:24:17.282Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig 200
[debug] [2025-05-30T20:24:17.282Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig {"projectId":"core-app-423c7","databaseURL":"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"core-app-423c7.firebasestorage.app"}
[debug] [2025-05-30T20:24:17.283Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.283Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.283Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs [none]
[debug] [2025-05-30T20:24:17.683Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs 200
[debug] [2025-05-30T20:24:17.684Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs {"configs":[{"name":"projects/core-app-423c7/configs/email"},{"name":"projects/core-app-423c7/configs/google"},{"name":"projects/core-app-423c7/configs/smtp"}]}
[debug] [2025-05-30T20:24:17.684Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.684Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.684Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.684Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.684Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.684Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.684Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables [none]
[debug] [2025-05-30T20:24:17.684Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables [none]
[debug] [2025-05-30T20:24:17.686Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables [none]
[debug] [2025-05-30T20:24:17.900Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables 200
[debug] [2025-05-30T20:24:17.901Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables {"variables":[{"name":"projects/core-app-423c7/configs/email/variables/user","updateTime":"2025-03-23T19:18:54.014339774Z"},{"name":"projects/core-app-423c7/configs/email/variables/password","updateTime":"2025-03-23T19:18:53.997899644Z"}]}
[debug] [2025-05-30T20:24:17.901Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.901Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.901Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.901Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.901Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user [none]
[debug] [2025-05-30T20:24:17.902Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password [none]
[debug] [2025-05-30T20:24:17.942Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables 200
[debug] [2025-05-30T20:24:17.942Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables {"variables":[{"name":"projects/core-app-423c7/configs/google/variables/maps_api_key","updateTime":"2025-04-11T09:28:18.397654238Z"}]}
[debug] [2025-05-30T20:24:17.942Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.942Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.942Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables/maps_api_key [none]
[debug] [2025-05-30T20:24:17.959Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables 200
[debug] [2025-05-30T20:24:17.959Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables {"variables":[{"name":"projects/core-app-423c7/configs/smtp/variables/user","updateTime":"2025-04-02T00:51:00.421763237Z"},{"name":"projects/core-app-423c7/configs/smtp/variables/host","updateTime":"2025-04-02T00:51:02.374627588Z"},{"name":"projects/core-app-423c7/configs/smtp/variables/pass","updateTime":"2025-04-02T00:51:01.297739602Z"},{"name":"projects/core-app-423c7/configs/smtp/variables/port","updateTime":"2025-04-02T00:50:59.539013855Z"}]}
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.959Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:17.960Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/user [none]
[debug] [2025-05-30T20:24:17.960Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/host [none]
[debug] [2025-05-30T20:24:17.962Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/pass [none]
[debug] [2025-05-30T20:24:17.964Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/port [none]
[debug] [2025-05-30T20:24:18.110Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user 200
[debug] [2025-05-30T20:24:18.111Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user {"name":"projects/core-app-423c7/configs/email/variables/user","updateTime":"2025-03-23T19:18:54.014339774Z","text":"core.transport.app@gmail.com"}
[debug] [2025-05-30T20:24:18.149Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables/maps_api_key 200
[debug] [2025-05-30T20:24:18.149Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/google/variables/maps_api_key {"name":"projects/core-app-423c7/configs/google/variables/maps_api_key","updateTime":"2025-04-11T09:28:18.397654238Z","text":"CHÝBAJÚCI_KĽÚČ_VLOŽTE_SEM"}
[debug] [2025-05-30T20:24:18.179Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/user 200
[debug] [2025-05-30T20:24:18.180Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/user {"name":"projects/core-app-423c7/configs/smtp/variables/user","updateTime":"2025-04-02T00:51:00.421763237Z","text":"noreply@aesa.sk"}
[debug] [2025-05-30T20:24:18.191Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password 200
[debug] [2025-05-30T20:24:18.191Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password {"name":"projects/core-app-423c7/configs/email/variables/password","updateTime":"2025-03-23T19:18:53.997899644Z","text":"your-app-specific-password"}
[debug] [2025-05-30T20:24:18.255Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/pass 200
[debug] [2025-05-30T20:24:18.255Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/pass {"name":"projects/core-app-423c7/configs/smtp/variables/pass","updateTime":"2025-04-02T00:51:01.297739602Z","text":"r.\\{jo$_;OJX8V\\>eKbo\\|!"}
[debug] [2025-05-30T20:24:18.257Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/host 200
[debug] [2025-05-30T20:24:18.257Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/host {"name":"projects/core-app-423c7/configs/smtp/variables/host","updateTime":"2025-04-02T00:51:02.374627588Z","text":"smtp.m1.websupport.sk"}
[debug] [2025-05-30T20:24:18.279Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/port 200
[debug] [2025-05-30T20:24:18.279Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/smtp/variables/port {"name":"projects/core-app-423c7/configs/smtp/variables/port","updateTime":"2025-04-02T00:50:59.539013855Z","text":"465"}
[debug] [2025-05-30T20:24:18.280Z] Validating nodejs source
[debug] [2025-05-30T20:24:18.710Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@mui/x-data-grid": "^7.28.3",
    "@mui/x-date-pickers": "^7.28.0",
    "@types/cors": "^2.8.17",
    "axios": "^1.9.0",
    "chrome-aws-lambda": "^10.1.0",
    "cors": "^2.8.5",
    "date-fns": "^4.1.0",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.3.2",
    "node-fetch": "^3.3.2",
    "nodemailer": "^6.9.9",
    "puppeteer-core": "^10.1.0",
    "react-router-dom": "^7.4.0"
  },
  "devDependencies": {
    "@types/node-fetch": "^2.6.12",
    "@types/nodemailer": "^6.4.17",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "typescript": "^4.9.5"
  },
  "private": true
}
[debug] [2025-05-30T20:24:18.710Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-05-30T20:24:18.711Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-05-30T20:24:18.715Z] Found firebase-functions binary at '/Users/macbookm3pro/Documents/GitHub/Core NEW - kópia/transport-platform-new/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8577

[debug] [2025-05-30T20:24:19.028Z] Got response from /__/functions.yaml {"endpoints":{"clearDatabase":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"clearDatabase"},"sendInvitationEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"sendInvitationEmail"},"checkBusinessCaseReminders":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"checkBusinessCaseReminders"},"checkTransportNotifications":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"checkTransportNotifications"},"logFunctionMetrics":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"logFunctionMetrics"},"initializeLastLogin":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"initializeLastLogin"},"updateLastLogin":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"updateLastLogin"},"sendTestReminder":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"sendTestReminder"},"googleMapsProxy":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"googleMapsProxy"},"createConversation":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"createConversation"},"sendMessage":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"sendMessage"},"markMessagesAsRead":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"markMessagesAsRead"},"searchUsers":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"searchUsers"},"updateUserProfileInConversations":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"updateUserProfileInConversations"},"getUserConversations":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"getUserConversations"},"getConversationMessages":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"getConversationMessages"},"deleteConversation":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"deleteConversation"},"fixUnreadCounts":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"fixUnreadCounts"},"generateOrderPdf":{"platform":"gcfv1","labels":{},"availableMemoryMb":2048,"timeoutSeconds":300,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"generateOrderPdf"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-05-30T20:24:23.050Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:23.050Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:23.051Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com [none]
[debug] [2025-05-30T20:24:23.051Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:24.114Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com 200
[debug] [2025-05-30T20:24:24.114Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-05-30T20:24:24.114Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-05-30T20:24:24.114Z] > authorizing via signed-in user (webpostup@gmail.com)
[debug] [2025-05-30T20:24:24.114Z] [iam] checking project core-app-423c7 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-05-30T20:24:24.115Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:24.115Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:24.115Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions [none]
[debug] [2025-05-30T20:24:24.115Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:24.115Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-30T20:24:24.934Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions 200
[debug] [2025-05-30T20:24:24.934Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-05-30T20:24:24.935Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:24.935Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:24.935Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances pageSize=100&pageToken=
[debug] [2025-05-30T20:24:25.958Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances 200
[debug] [2025-05-30T20:24:25.959Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookm3pro/Documents/GitHub/Core NEW - kópia/transport-platform-new/functions (121.52 KB) for uploading 
[debug] [2025-05-30T20:24:26.003Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:26.004Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:26.004Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions [none]
[debug] [2025-05-30T20:24:26.881Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions 200
[debug] [2025-05-30T20:24:26.882Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions {"functions":[{"name":"projects/core-app-423c7/locations/europe-west1/functions/initializeLastLogin","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/initializeLastLogin","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"initializeLastLogin","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:28.033Z","versionId":"45","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/initializeLastLogin"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/updateUnreadCounts","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/core-app-423c7/databases/(default)/documents/conversations/{conversationId}/messages/{messageId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"updateUnreadCounts","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-23T07:53:58.999Z","versionId":"9","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"103d67b05a8b24fbfdae9175ca9cb53f9e3873f8"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/a7349620-3dca-4bc8-bd22-94f737b2571e.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/updateUnreadCounts"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"1cf95887-66db-4e24-8745-ceb15496762f","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/1cf95887-66db-4e24-8745-ceb15496762f","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/fixUnreadCounts","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/fixUnreadCounts","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"fixUnreadCounts","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:22.767Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/fixUnreadCounts"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/createConversation","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/createConversation","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createConversation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:25.466Z","versionId":"24","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/createConversation"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/googleMapsProxy","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/googleMapsProxy","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"googleMapsProxy","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.070Z","versionId":"27","labels":{"firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/googleMapsProxy"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/clearDatabase","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/clearDatabase","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"clearDatabase","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:24.325Z","versionId":"63","labels":{"firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/clearDatabase"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/searchUsers","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/searchUsers","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"searchUsers","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.762Z","versionId":"24","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/searchUsers"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/sendTestReminder","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/sendTestReminder","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendTestReminder","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:22.939Z","versionId":"37","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/sendTestReminder"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/generateOrderPdf","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/generateOrderPdf","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateOrderPdf","timeout":"300s","availableMemoryMb":2048,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:25.829Z","versionId":"35","labels":{"deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/generateOrderPdf"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"fef55259-e8ee-4aa4-ab25-aa16419618a6","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/fef55259-e8ee-4aa4-ab25-aa16419618a6","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/deleteConversation","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/deleteConversation","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"deleteConversation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.242Z","versionId":"24","labels":{"firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/deleteConversation"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/sendInvitationEmail","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/sendInvitationEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInvitationEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.849Z","versionId":"64","labels":{"firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/sendInvitationEmail"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/sendMessage","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/sendMessage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendMessage","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.853Z","versionId":"24","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/sendMessage"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/updateUserProfileInConversations","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/updateUserProfileInConversations","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateUserProfileInConversations","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.079Z","versionId":"15","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/updateUserProfileInConversations"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/getUserConversations","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/getUserConversations","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getUserConversations","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:28.214Z","versionId":"24","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/getUserConversations"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/updateExistingRecords","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/updateExistingRecords","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateExistingRecords","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-10T07:24:02.031Z","versionId":"35","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"458c1111a070781e1a97ec644ae0825f30e5799f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/771d7053-4a22-4c14-8351-171bd835355d.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/updateExistingRecords"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"d24c7887-8736-40ae-8142-5cfa307d09ee","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/d24c7887-8736-40ae-8142-5cfa307d09ee","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/checkBusinessCaseReminders","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-checkBusinessCaseReminders-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"checkBusinessCaseReminders","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:28.191Z","versionId":"37","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/checkBusinessCaseReminders"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/getConversationMessages","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/getConversationMessages","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"getConversationMessages","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:29.252Z","versionId":"24","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/getConversationMessages"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/logFunctionMetrics","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-logFunctionMetrics-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"logFunctionMetrics","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.124Z","versionId":"83","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/logFunctionMetrics"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/updateLastLogin","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/updateLastLogin","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateLastLogin","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:23.401Z","versionId":"22","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/updateLastLogin"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/markMessagesAsRead","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/markMessagesAsRead","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"markMessagesAsRead","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:27.619Z","versionId":"24","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/markMessagesAsRead"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/core-app-423c7/locations/europe-west1/functions/checkTransportNotifications","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-checkTransportNotifications-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"checkTransportNotifications","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-05-28T21:00:22.726Z","versionId":"37","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"3cdf738fd1c897356d941bdf2edf7f0f57973a5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/eefa421c-40ae-4263-bdf4-c62ab98bc9b8.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/checkTransportNotifications"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"cfbf6ec5-6dab-4a25-aad0-5e41508bd147","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/cfbf6ec5-6dab-4a25-aad0-5e41508bd147","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-05-30T20:24:26.884Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:26.884Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:26.884Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-05-30T20:24:27.977Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions 200
[debug] [2025-05-30T20:24:27.977Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-05-30T20:24:27.981Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:27.981Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:27.981Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/869167769685/services/cloudscheduler.googleapis.com [none]
[debug] [2025-05-30T20:24:27.981Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/869167769685/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/869167769685
[debug] [2025-05-30T20:24:29.099Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/869167769685/services/cloudscheduler.googleapis.com 200
[debug] [2025-05-30T20:24:29.100Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/869167769685/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[debug] [2025-05-30T20:24:29.102Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:29.102Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:29.103Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-05-30T20:24:29.103Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-05-30T20:24:29.852Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-05-30T20:24:29.853Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-05-30T20:24:29.853Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:29.853Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:29.853Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 [none]
[debug] [2025-05-30T20:24:30.170Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 200
[debug] [2025-05-30T20:24:30.171Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 {"projectNumber":"869167769685","projectId":"core-app-423c7","lifecycleState":"ACTIVE","name":"core-app","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-23T09:54:58.346881Z"}
[debug] [2025-05-30T20:24:30.175Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:30.175Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:30.175Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions [none]
[debug] [2025-05-30T20:24:30.175Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2025-05-30T20:24:31.382Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions 200
[debug] [2025-05-30T20:24:31.382Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/core-app-423c7/versions {"name":"projects/869167769685/sites/core-app-423c7/versions/82c968c9482c0e5e","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2025-05-30T20:24:31.383Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:31.383Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:31.384Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases pageSize=10&pageToken=
[debug] [2025-05-30T20:24:32.196Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases 200
[debug] [2025-05-30T20:24:32.196Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases {"releases":[{"name":"projects/core-app-423c7/releases/cloud.firestore","rulesetName":"projects/core-app-423c7/rulesets/7f304e04-1223-4285-8832-18a722777462","createTime":"2025-03-23T10:47:52.691285Z","updateTime":"2025-05-28T21:18:13.605466Z"},{"name":"projects/core-app-423c7/releases/firebase.storage/core-app-423c7.firebasestorage.app","rulesetName":"projects/core-app-423c7/rulesets/cbcedec2-7626-4b7f-8ba6-e42e6d023cba","createTime":"2025-03-28T20:57:13.976365Z","updateTime":"2025-05-28T21:18:12.694945Z"}]}
[debug] [2025-05-30T20:24:32.210Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:32.210Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:32.210Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/cbcedec2-7626-4b7f-8ba6-e42e6d023cba [none]
[debug] [2025-05-30T20:24:32.964Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/cbcedec2-7626-4b7f-8ba6-e42e6d023cba 200
[debug] [2025-05-30T20:24:32.964Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/cbcedec2-7626-4b7f-8ba6-e42e6d023cba [omitted]
[info] i  storage: latest version of storage.rules already up to date, skipping upload... 
[debug] [2025-05-30T20:24:32.966Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:32.966Z] Checked if tokens are valid: true, expires at: 1748640245037
[info] i  firestore: deploying indexes... 
[debug] [2025-05-30T20:24:32.967Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:32.967Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:32.967Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases pageSize=10&pageToken=
[debug] [2025-05-30T20:24:32.968Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2025-05-30T20:24:33.400Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases 200
[debug] [2025-05-30T20:24:33.400Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/releases {"releases":[{"name":"projects/core-app-423c7/releases/cloud.firestore","rulesetName":"projects/core-app-423c7/rulesets/7f304e04-1223-4285-8832-18a722777462","createTime":"2025-03-23T10:47:52.691285Z","updateTime":"2025-05-28T21:18:13.605466Z"},{"name":"projects/core-app-423c7/releases/firebase.storage/core-app-423c7.firebasestorage.app","rulesetName":"projects/core-app-423c7/rulesets/cbcedec2-7626-4b7f-8ba6-e42e6d023cba","createTime":"2025-03-28T20:57:13.976365Z","updateTime":"2025-05-28T21:18:12.694945Z"}]}
[debug] [2025-05-30T20:24:33.401Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:33.401Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:33.401Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/7f304e04-1223-4285-8832-18a722777462 [none]
[debug] [2025-05-30T20:24:33.401Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/indexes 200
[debug] [2025-05-30T20:24:33.401Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/users/indexes/CICAgJim14AJ","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/notifications/indexes/CICAgLjyrJEJ","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/invoices/indexes/CICAgNiav4AK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"issueDate","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/orders/indexes/CICAgLjy8IAK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/chats/indexes/CICAgNiroIEK","queryScope":"COLLECTION","fields":[{"fieldPath":"participants","arrayConfig":"CONTAINS"},{"fieldPath":"lastMessageTime","order":"DESCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/contacts/indexes/CICAgJj7z4EK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/invoices/indexes/CICAgLiT6IEK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgNjpgYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"businessCaseId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/users/indexes/CICAgLjRyYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"role","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/businessCases/indexes/CICAgJjF9oIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/transports/indexes/CICAgLiIkYMK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgJiUpoMK","queryScope":"COLLECTION","fields":[{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"transportId","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/vehicleLocations/indexes/CICAgPig2YMK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"lastUpdate","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgNja0ogK","queryScope":"COLLECTION","fields":[{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"businessCaseId","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/locations/indexes/CICAgOi39IkK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/customers/indexes/CICAgLiI64sK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"companyName","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/routeHistory/indexes/CICAgOi3kJAK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"startTime","order":"DESCENDING"},{"fieldPath":"endTime","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/carriers/indexes/CICAgNirtJAK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"companyName","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgJiH2JAK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"reminderTime","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgLjyrJEK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/invoices/indexes/CICAgNjaxJEK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"dueDate","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/notifications/indexes/CICAgLiIjZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"read","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/reminders/indexes/CICAgJiUsZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"sent","order":"ASCENDING"},{"fieldPath":"reminderDateTime","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/users/indexes/CICAgNi4-ZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyId","order":"ASCENDING"},{"fieldPath":"role","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/customers/indexes/CICAgJjFqZMK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/carriers/indexes/CICAgNjp5ZMK","queryScope":"COLLECTION","fields":[{"fieldPath":"companyID","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/conversations/indexes/CICAgNjajpkK","queryScope":"COLLECTION","fields":[{"fieldPath":"participants","arrayConfig":"CONTAINS"},{"fieldPath":"updatedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2025-05-30T20:24:33.402Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:33.402Z] Checked if tokens are valid: true, expires at: 1748640245037
[debug] [2025-05-30T20:24:33.402Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2025-05-30T20:24:33.484Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2025-05-30T20:24:33.484Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/core-app-423c7/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/core-app-423c7/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[info] i  firestore: The following indexes are defined in your project but are not present in your firestore indexes file:
	(users) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(invoices) -- (companyID,ASCENDING) (issueDate,DESCENDING) 
	(orders) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(chats) -- (participants,CONTAINS) (lastMessageTime,DESCENDING) 
	(contacts) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(invoices) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(reminders) -- (sent,ASCENDING) (reminderDateTime,ASCENDING) (businessCaseId,ASCENDING) 
	(users) -- (companyID,ASCENDING) (role,ASCENDING) (createdAt,DESCENDING) 
	(businessCases) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(transports) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(reminders) -- (sent,ASCENDING) (reminderDateTime,ASCENDING) (transportId,ASCENDING) 
	(vehicleLocations) -- (companyID,ASCENDING) (lastUpdate,DESCENDING) 
	(reminders) -- (sent,ASCENDING) (businessCaseId,ASCENDING) (reminderDateTime,ASCENDING) 
	(locations) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(customers) -- (companyID,ASCENDING) (companyName,ASCENDING) 
	(routeHistory) -- (companyID,ASCENDING) (startTime,DESCENDING) (endTime,DESCENDING) 
	(carriers) -- (companyID,ASCENDING) (companyName,ASCENDING) 
	(reminders) -- (companyID,ASCENDING) (status,ASCENDING) (reminderTime,ASCENDING) 
	(reminders) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(invoices) -- (companyID,ASCENDING) (dueDate,ASCENDING) 
	(reminders) -- (companyID,ASCENDING) (sent,ASCENDING) (reminderDateTime,ASCENDING) 
	(users) -- (companyId,ASCENDING) (role,ASCENDING) (createdAt,DESCENDING) 
	(customers) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(carriers) -- (companyID,ASCENDING) (createdAt,DESCENDING) 
	(conversations) -- (participants,CONTAINS) (updatedAt,DESCENDING)  
[debug] [2025-05-30T20:24:34.101Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/7f304e04-1223-4285-8832-18a722777462 200
[debug] [2025-05-30T20:24:34.101Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/core-app-423c7/rulesets/7f304e04-1223-4285-8832-18a722777462 [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 
